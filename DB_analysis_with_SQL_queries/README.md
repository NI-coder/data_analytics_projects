# Анализ базы данных с помощью SQL-запросов

## Описание проекта
Компания запускает новый проект - приложение для чтения книг по подписке. Есть база данных о книгах, издательствах, авторах, с пользовательскими оценками и обзорами книг. Необходимо проанализировать базу данных.

## Цель проекта
Из имеющейся базы агрегировать данные, которые помогут сформулировать ценностное предложение для нового продукта.

## Задачи
- Определить общий объём контента (посчитать, сколько книг вышло после 1 января 2000 года);
- Проранжировать книги по степении пользовательской удовлетворённости (для каждой книги посчитать количество обзоров и среднюю оценку);
- Определить издательство, которое выпустило наибольшее число книг, исключая брошюры (рассматриваем только книги, толщиной более 50 страниц);
- Определить самого успешного автора (с самой высокой средней оценкой книг — учитывать только книги с 50 и более оценками);
- Охарактеризовать самых активных пользователей (посчитать среднее количество обзоров от пользователей, которые поставили больше 50 оценок).

## Используемые библиотеки
*Pandas, sqlalchemy*

## Проведённые работы
- Подключились к БД.
- Изучили состав и размерность таблиц в БД.
- Сделаны SQL-запросы (PostgreSQL) для решения задач проекта:
	- первая задача решена простым запросом с агрегирующей функцией COUNT и условием WHERE;
	- вторая задача решена с использованием подзапроса (c объединением таблиц и группировкой) в операторе LEFT JOIN;
	- третья задача решена запросом с объединением таблиц RIGHT JOIN, условием WHERE, группировкой GROUP BY и сортировкой ORDER BY;
	- в четвёртой задаче при объединении таблиц RIGHT JOIN использовался подзапрос с группировкой с условием HAVING;
	- пятая задача решена с использованием трёх, вложенных друг в друга, подзапросов.

## Выводы 
1. После 01.01.2000 года всего издательствами, имеющимися в базе данных, была выпущена 821 книга.
2. Рейтинги книг и издательств можно определять по оценкам читателей и количеству книжных обзоров.
3. Наибольшее число книг, объёмом более 50 страниц, выпустило издательство Penguin Books (42 книги).
4. Самый высокий средний рейтинг (из самых часто оцениваемых книг) имеют книги автора J.K. Rowling/Mary GrandPré.
5. Самые активные пользователи (проставившие книгам более 50 оценок) в среднем пишут по 24 обзора.

## Рекомендации 
- В MVP нового продукта включить книги из ТОП-20 авторов по уровню средней пользовательской оценки.
- Продукт должен давать пользователю возможность ставить книгам оценки и делать отзывы.
- Продукт должен давать возможность фильтровать книги и авторов по уровню оценок и тональности отзывов (обзоров).
- Продукт должен стимулировать пользователя ставить оценки и делать обзоры.